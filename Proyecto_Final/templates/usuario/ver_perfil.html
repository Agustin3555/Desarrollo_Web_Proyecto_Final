{% extends "base.html" %}

{% block title %}Perfil{% endblock %}

{% block h1 %}Perfil{% endblock %}

{% block main %}

    {% load static %}

    <main id="perfilUsuarioPropio">

        <div id="infoUser">
            <div id="iconUsuarioContainer"> <img id="iconUserImg" src="{% static 'img/iconUsuario.png' %}" alt="iconUsuario"></div>

            <p><b>Usuario:</b> {{ user.username }}</p>
            <p><b>Email:</b> {{ user.email }}</p>
            <p><b>Nombre:</b> {{ user.first_name }}</p>
            <p><b>Apellido:</b> {{ user.last_name }}</p>
            <p><b>Provincia:</b> {{ user.provincia }}</p>
            <p><b>Ciudad:</b> {{ user.ciudad }}</p>

            <p><b>Calificación:</b>
                {% if user.promedio_calificacion != None %}
                    {{ user.promedio_calificacion }}
                {% else %}
                    -
                {% endif %}
            </p>

            <p><b>N° de Calificaciones:</b> {{ n_calificaciones }}</p>

            <p><b>Descripción:</b>
                {% if user.descripcion_propia != None %}
                    {{ user.descripcion_propia }}
                {% else %}
                    Sin especificar
                {% endif %}
            </p>
        </div>

        <div id="asideOpcionesUser">
            <ul>
                <li><a href="{% url 'crear_publicacion' %}">>Crear una nueva publicación</a></li>
                <li><a href="">>Publicaciones guardadas</a></li>
                <li><a href="">>Tus postulaciones</a></li>
            </ul>
        </div>

        <div id="publicaciones">
            <h2 class="titulo">Tus publicaciones</h2>

            {% for publicacion in publicaciones_usuario %}

                <div id="publicacion">

                    <ul>
                        <li>Usuario: {{ publicacion.usuario_creador }}</li>
                        <li>Especie: {{ publicacion.especie }}</li>
                        <li>Foto: <img src="{{ MEDIA_URL }}{{ publicacion.foto.url }}"></li>
                        <li>Descripción: {{ publicacion.descripcion }}</li>
                        <li>Fecha: {{ publicacion.fecha }}</li>
                        <li>Estado: {{ publicacion.estado }}</li>
                    </ul>

                    {% for mascota in mascotas %}

                        {% if publicacion == mascota.publicacion %}

                            <ul>
                                <li>Foto: <img src="{{ MEDIA_URL }}{{ mascota.foto.url }}"></li>
                                <li>Sexo: {{ mascota.sexo }}</li>
                                <li>Raza: {{ mascota.raza }}</li>
                                <li>Edad: {{ mascota.edad }}</li>
                                <li>Descripcion: {{ mascota.descripcion }}</li>
                                <li>Estado: {{ mascota.estado }}</li>
                                <li>Futuro Dueño: {{ mascota.usuario_futuro_duenio }}</li>
                            </ul>

                        {% endif %}

                    {% endfor %}

                </div>

            {% endfor %}

        </div>

    </main>

{% endblock %}
